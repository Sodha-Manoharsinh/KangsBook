import{x as Y,h as N,q as ba,G as ya,y as xa,b as wa,m as W,a2 as fa,R as Ea,S as Ta,T as j,w as K,c as q,z as ka,U as la,a as va,V as Aa,D as ca,j as Na,Z as ua,ap as aa,aq as Q,I as V,ar as Ia,as as Ca,at as Sa,C as Ra,au as Ma,d as La,av as Oa,aw as $a,t as Fa,ax as Da,ay as Ha,az as Ba,aA as qa,aB as Ua,E as za,aC as Ga,aD as Pa,aj as Ja,k as w,aE as Va,aF as Ya,aG as Ka,aH as Qa,af as Wa,n as U,ac as ea,ad as ta,ae as Xa,p as Za,aI as ja,aJ as ae,g as R,r as M,s as $,Q as G,e as ee,_ as te,M as re}from"./-3NsZs0o.js";import{a as se,s as z}from"./647_N947.js";import{b as ie,w as ne,e as oe}from"./D8z_t2x-.js";import{f as H,a as F}from"./CDGukazD.js";import{i as fe}from"./C3iTi9Jk.js";import{p as le,i as P,s as ve,a as ce}from"./CqGRKjFk.js";import"./CW8qKLMO.js";import{w as ue}from"./D0FexBNN.js";function de(e,a,t,s){for(var n=[],v=a.length,f=0;f<v;f++)Sa(a[f].e,n,!0);var l=v>0&&n.length===0&&t!==null;if(l){var g=t.parentNode;Ra(g),g.append(t),s.clear(),L(e,a[0].prev,a[v-1].next)}Ma(n,()=>{for(var _=0;_<v;_++){var r=a[_];l||(s.delete(r.k),L(e,r.prev,r.next)),La(r.e,!l)}})}function ze(e,a,t,s,n,v=null){var f=e,l={flags:a,items:new Map,first:null};{var g=e;f=N?Y(ba(g)):g.appendChild(ya())}N&&xa();var _=null,r=!1,b=fa(()=>{var i=t();return Na(i)?i:i==null?[]:ca(i)});wa(()=>{var i=W(b),o=i.length;if(r&&o===0)return;r=o===0;let c=!1;if(N){var h=Ea(f)===Ta;h!==(o===0)&&(f=j(),Y(f),K(!1),c=!0)}if(N){for(var m=null,u,d=0;d<o;d++){if(q.nodeType===8&&q.data===ka){f=q,c=!0,K(!1);break}var y=i[d],E=s(y,d);u=da(q,l,m,null,y,E,d,n,a,t),l.items.set(E,u),m=u}o>0&&Y(j())}N||_e(i,l,f,n,a,s,t),v!==null&&(o===0?_?la(_):_=va(()=>v(f)):_!==null&&Aa(_,()=>{_=null})),c&&K(!0),W(b)}),N&&(f=q)}function _e(e,a,t,s,n,v,f){var l=e.length,g=a.items,_=a.first,r=_,b,i=null,o=[],c=[],h,m,u,d;for(d=0;d<l;d+=1){if(h=e[d],m=v(h,d),u=g.get(m),u===void 0){var y=r?r.e.nodes_start:t;i=da(y,a,i,i===null?a.first:i.next,h,m,d,s,n,f),g.set(m,i),o=[],c=[],r=i.next;continue}if(pe(u,h,d),(u.e.f&Q)!==0&&la(u.e),u!==r){if(b!==void 0&&b.has(u)){if(o.length<c.length){var E=c[0],T;i=E.prev;var A=o[0],C=o[o.length-1];for(T=0;T<o.length;T+=1)ra(o[T],E,t);for(T=0;T<c.length;T+=1)b.delete(c[T]);L(a,A.prev,C.next),L(a,i,A),L(a,C,E),r=E,i=C,d-=1,o=[],c=[]}else b.delete(u),ra(u,r,t),L(a,u.prev,u.next),L(a,u,i===null?a.first:i.next),L(a,i,u),i=u;continue}for(o=[],c=[];r!==null&&r.k!==m;)(r.e.f&Q)===0&&(b??(b=new Set)).add(r),c.push(r),r=r.next;if(r===null)continue;u=r}o.push(u),i=u,r=u.next}if(r!==null||b!==void 0){for(var k=b===void 0?[]:ca(b);r!==null;)(r.e.f&Q)===0&&k.push(r),r=r.next;var S=k.length;if(S>0){var B=l===0?t:null;de(a,k,B,g)}}V.first=a.first&&a.first.e,V.last=i&&i.e}function pe(e,a,t,s){Ca(e.v,a),e.i=t}function da(e,a,t,s,n,v,f,l,g,_){var r=(g&Oa)!==0,b=(g&$a)===0,i=r?b?ua(n,!1,!1):aa(n):n,o=(g&Ia)===0?f:aa(f),c={i:o,v:i,k:v,a:null,e:null,prev:t,next:s};try{return c.e=va(()=>l(e,i,o,_),N),c.e.prev=t&&t.e,c.e.next=s&&s.e,t===null?a.first=c:(t.next=c,t.e.next=c.e),s!==null&&(s.prev=c,s.e.prev=c.e),c}finally{}}function ra(e,a,t){for(var s=e.next?e.next.e.nodes_start:t,n=a?a.e.nodes_start:t,v=e.e.nodes_start;v!==s;){var f=Fa(v);n.before(v),v=f}}function L(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}const he=Symbol("is custom element"),me=Symbol("is html");function Ge(e){if(N){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;D(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var n=e.checked;D(e,"checked",null),e.checked=n}}};e.__on_r=t,Da(t),ie()}}function D(e,a,t,s){var n=ge(e);N&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=t)&&(a==="loading"&&(e[Ha]=t),t==null?e.removeAttribute(a):typeof t!="string"&&be(e).includes(a)?e[a]=t:e.setAttribute(a,t))}function ge(e){return e.__attributes??(e.__attributes={[he]:e.nodeName.includes("-"),[me]:e.namespaceURI===Ba})}var sa=new Map;function be(e){var a=sa.get(e.nodeName);if(a)return a;sa.set(e.nodeName,a=[]);for(var t,s=e,n=Element.prototype;n!==s;){t=Ua(s);for(var v in t)t[v].set&&a.push(v);s=qa(s)}return a}const ye=()=>performance.now(),I={tick:e=>requestAnimationFrame(e),now:()=>ye(),tasks:new Set};function _a(){const e=I.now();I.tasks.forEach(a=>{a.c(e)||(I.tasks.delete(a),a.f())}),I.tasks.size!==0&&I.tick(_a)}function xe(e){let a;return I.tasks.size===0&&I.tick(_a),{promise:new Promise(t=>{I.tasks.add(a={c:e,f:t})}),abort(){I.tasks.delete(a)}}}function J(e,a){ne(()=>{e.dispatchEvent(new CustomEvent(a))})}function we(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function ia(e){const a={},t=e.split(";");for(const s of t){const[n,v]=s.split(":");if(!n||v===void 0)break;const f=we(n.trim());a[f]=v.trim()}return a}const Ee=e=>e;function Pe(e,a,t,s){var n=(e&Ya)!==0,v=(e&Ka)!==0,f=n&&v,l=(e&Va)!==0,g=f?"both":n?"in":"out",_,r=a.inert,b=a.style.overflow,i,o;function c(){var y=Xa,E=V;ea(null),ta(null);try{return _??(_=t()(a,(s==null?void 0:s())??{},{direction:g}))}finally{ea(y),ta(E)}}var h={is_global:l,in(){var y;if(a.inert=r,!n){o==null||o.abort(),(y=o==null?void 0:o.reset)==null||y.call(o);return}v||i==null||i.abort(),J(a,"introstart"),i=X(a,c(),o,1,()=>{J(a,"introend"),i==null||i.abort(),i=_=void 0,a.style.overflow=b})},out(y){if(!v){y==null||y(),_=void 0;return}a.inert=!0,J(a,"outrostart"),o=X(a,c(),i,0,()=>{J(a,"outroend"),y==null||y()})},stop:()=>{i==null||i.abort(),o==null||o.abort()}},m=V;if((m.transitions??(m.transitions=[])).push(h),n&&se){var u=l;if(!u){for(var d=m.parent;d&&(d.f&za)!==0;)for(;(d=d.parent)&&(d.f&Ga)===0;);u=!d||(d.f&Pa)!==0}u&&Ja(()=>{w(()=>h.in())})}}function X(e,a,t,s,n){var v=s===1;if(Qa(a)){var f,l=!1;return Wa(()=>{if(!l){var m=a({direction:v?"in":"out"});f=X(e,m,t,s,n)}}),{abort:()=>{l=!0,f==null||f.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(t==null||t.deactivate(),!(a!=null&&a.duration))return n(),{abort:U,deactivate:U,reset:U,t:()=>s};const{delay:g=0,css:_,tick:r,easing:b=Ee}=a;var i=[];if(v&&t===void 0&&(r&&r(0,1),_)){var o=ia(_(0,1));i.push(o,o)}var c=()=>1-s,h=e.animate(i,{duration:g,fill:"forwards"});return h.onfinish=()=>{h.cancel();var m=(t==null?void 0:t.t())??1-s;t==null||t.abort();var u=s-m,d=a.duration*Math.abs(u),y=[];if(d>0){var E=!1;if(_)for(var T=Math.ceil(d/16.666666666666668),A=0;A<=T;A+=1){var C=m+u*b(A/T),k=ia(_(C,1-C));y.push(k),E||(E=k.overflow==="hidden")}E&&(e.style.overflow="hidden"),c=()=>{var S=h.currentTime;return m+u*b(S/d)},r&&xe(()=>{if(h.playState!=="running")return!1;var S=c();return r(S,1-S),!0})}h=e.animate(y,{duration:d,fill:"forwards"}),h.onfinish=()=>{c=()=>s,r==null||r(s,1-s),n()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=U)},deactivate:()=>{n=U},reset:()=>{s===0&&(r==null||r(1,0))},t:()=>c()}}const na=localStorage.getItem("favorites"),Te=na?JSON.parse(na):[],Z=ue(Te);Z.subscribe(e=>{localStorage.setItem("favorites",JSON.stringify(e))});var ke=H('<span class="text-danger fs-5">‚ù§Ô∏è</span>'),Ae=H('<span class="text-secondary fs-5">ü§ç</span>'),Ne=H('<img class="card-img-top rounded-top-4" alt="Book Cover" style="height: 350px; object-fit: cover;"/>'),Ie=H('<div class="d-flex align-items-center justify-content-center bg-light text-muted rounded-top-4" style="height: 350px; font-size: 0.95rem;">No Cover Available</div>'),Ce=H('<p class="text-muted mb-1 line-clamp svelte-1use3lt"> </p>'),Se=H('<p class="mb-1 text-warning"> </p>'),Re=H('<div class="book-card card shadow-sm border-0 m-2 rounded-4 position-relative svelte-1use3lt"><button class="btn btn-light btn-sm favorite-btn position-absolute svelte-1use3lt" aria-label="Toggle Favorite"><!></button> <!> <div class="card-body d-flex flex-column px-3 pb-3 pt-2"><h5 class="card-title fw-bold text-truncate"> </h5> <!> <!> <p class="card-text text-muted small line-clamp svelte-1use3lt"> </p> <small class="text-muted mt-auto"> </small> <a class="btn btn-sm btn-outline-primary mt-3 w-100" target="_blank">üîó Preview Book</a></div></div>');function Je(e,a){Za(a,!1);const[t,s]=ve(),n=()=>ce(Z,"$favorites",t),v=ua();let f=le(a,"book",24,()=>({}));const l=f().volumeInfo;function g(){Z.update(p=>p.find(O=>O.id===f().id)?p.filter(O=>O.id!==f().id):[...p,f()])}ja(()=>(n(),re(f())),()=>{te(v,n().some(p=>p.id===f().id))}),ae(),fe();var _=Re(),r=R(_),b=R(r);{var i=p=>{var x=ke();F(p,x)},o=p=>{var x=Ae();F(p,x)};P(b,p=>{W(v)?p(i):p(o,!1)})}M(r);var c=$(r,2);{var h=p=>{var x=Ne();G(()=>D(x,"src",w(()=>l.imageLinks.thumbnail))),F(p,x)},m=p=>{var x=Ie();F(p,x)};P(c,p=>{w(()=>{var x;return(x=l.imageLinks)==null?void 0:x.thumbnail})?p(h):p(m,!1)})}var u=$(c,2),d=R(u),y=R(d,!0);M(d);var E=$(d,2);{var T=p=>{var x=Ce(),O=R(x);M(x),G((ma,ga)=>{D(x,"title",ma),z(O,`üë§ ${ga??""}`)},[()=>w(()=>l.authors.join(", ")),()=>w(()=>l.authors.join(", "))],fa),F(p,x)};P(E,p=>{w(()=>l.authors)&&p(T)})}var A=$(E,2);{var C=p=>{var x=Se(),O=R(x);M(x),G(()=>z(O,`‚≠ê ${w(()=>l.averageRating)??""} / 5 (${w(()=>l.ratingsCount)??""} ratings)`)),F(p,x)};P(A,p=>{w(()=>l.averageRating)&&p(C)})}var k=$(A,2),S=R(k,!0);M(k);var B=$(k,2),pa=R(B);M(B);var ha=$(B,2);M(u),M(_),G(()=>{D(d,"title",w(()=>l.title)),z(y,w(()=>l.title)),D(k,"title",w(()=>l.description)),z(S,w(()=>l.description)),z(pa,`üìñ ${w(()=>l.publisher)??""} | ${w(()=>l.publishedDate)??""}`),D(ha,"href",w(()=>l.previewLink))}),oe("click",r,g),F(e,_),ee(),s()}const Me=e=>e;function Le(e){const a=e-1;return a*a*a+1}function oa(e){const a=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return a?[parseFloat(a[1]),a[2]||"px"]:[e,"px"]}function Ve(e,{delay:a=0,duration:t=400,easing:s=Me}={}){const n=+getComputedStyle(e).opacity;return{delay:a,duration:t,easing:s,css:v=>`opacity: ${v*n}`}}function Ye(e,{delay:a=0,duration:t=400,easing:s=Le,x:n=0,y:v=0,opacity:f=0}={}){const l=getComputedStyle(e),g=+l.opacity,_=l.transform==="none"?"":l.transform,r=g*(1-f),[b,i]=oa(n),[o,c]=oa(v);return{delay:a,duration:t,easing:s,css:(h,m)=>`
			transform: ${_} translate(${(1-h)*b}${i}, ${(1-h)*o}${c});
			opacity: ${g-r*m}`}}export{Je as C,Ye as a,Ve as b,ze as e,Z as f,Ge as r,Pe as t};
